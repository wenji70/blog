# 博客系统项目介绍

## 一、项目概述

**项目名称：** Blog System (博客系统)  
**项目版本：** 0.0.1-SNAPSHOT  
**开发语言：** Java 17  
**核心框架：** Spring Boot 2.7.17

本项目是一个基于 Spring Boot 的全栈博客管理系统，提供文章发布、评论互动、用户认证等核心功能，采用前后端分离架构，支持 Markdown 编辑和多种数据缓存策略。

---

## 二、技术栈

### 2.1 后端技术
- **核心框架：** Spring Boot 2.7.17
- **数据持久层：** MyBatis + MySQL 8.0.33
- **安全框架：** Spring Security
- **缓存技术：** Redis (Spring Data Redis)
- **连接池：** HikariCP 4.0.3
- **分页插件：** PageHelper 1.4.1
- **API 文档：** Knife4j 3.0.3 (Swagger)
- **模板引擎：** Thymeleaf
- **邮件服务：** Spring Boot Starter Mail

### 2.2 前端技术
- **模板引擎：** Thymeleaf
- **Markdown 编辑器：** 支持 GitHub Flavored Markdown (GFM) 表格扩展
- **前端框架：** jQuery + Bootstrap (推测)

### 2.3 工具库
- **Lombok：** 简化 Java 代码
- **Apache Commons Lang3：** 字符串工具
- **Emoji Java：** Emoji 表情过滤处理
- **Commonmark：** Markdown 解析

---

## 三、核心功能模块

### 3.1 用户端功能
1. **文章展示**
   - 首页文章列表（分页展示）
   - 文章详情查看
   - 文章点击量统计
   - 文章分类/标签筛选

2. **评论系统**
   - 登录用户发表评论
   - 评论内容 XSS 防护
   - Emoji 表情支持
   - 评论数量统计
   - 评论分页查询

3. **用户认证**
   - 用户登录/注销
   - Spring Security 安全认证
   - Cookie 会话管理（30分钟有效期）

### 3.2 管理员后台功能
1. **文章管理**
   - 新增文章（Markdown 编辑）
   - 编辑文章
   - 删除文章
   - 文章列表查看（分页）
   - 文章分类管理

2. **数据统计**
   - 最新文章统计（最近5篇）
   - 最新评论统计（最近5篇）
   - 文章总数、评论总数等统计信息

3. **系统管理**
   - 评论管理（功能规划中）
   - 分类/标签管理（功能规划中）
   - 系统设置（功能规划中）

---

## 四、系统架构

### 4.1 项目结构
```
blogTeam/
├── src/main/java/com/wjc/
│   ├── BolgSystemApplication.java    # 启动类
│   ├── config/                       # 配置类
│   ├── dao/                          # 数据访问层
│   ├── interceptor/                  # 拦截器
│   ├── model/                        # 实体类
│   │   ├── doma`in/                   # 领域模型`
│   │   └── ResponseData/             # 响应数据封装
│   ├── scheduletask/                 # 定时任务
│   ├── service/                      # 业务逻辑层
│   ├── utils/                        # 工具类
│   └── web/                          # 控制层
│       ├── admin/                    # 管理员控制器
│       └── client/                   # 用户端控制器
├── src/main/resources/
│   ├── mapper/                       # MyBatis XML 映射文件
│   ├── static/                       # 静态资源
│   ├── templates/                    # Thymeleaf 模板
│   │   ├── back/                     # 后台模板
│   │   └── client/                   # 前台模板
│   ├── application.yml               # 主配置文件
│   └── application-redis.properties  # Redis 配置
└── pom.xml                           # Maven 依赖配置
```

### 4.2 数据库配置
- **数据库类型：** MySQL 8.0+
- **数据库名称：** `bolg_system`
- **字符编码：** UTF-8
- **时区设置：** Asia/Shanghai
- **连接池：** HikariCP

### 4.3 缓存策略
- **缓存技术：** Redis
- **缓存端口：** 6379
- **连接池配置：**
  - 最大活跃连接数：8
  - 最大空闲连接数：8
  - 最大等待时间：-1（无限等待）

---

## 五、核心接口说明

### 5.1 管理员接口 (`/admin`)
| 接口路径 | 请求方式 | 功能描述 |
|---------|---------|---------|
| `/admin/index` | GET | 管理后台首页 |
| `/admin/article` | GET | 文章列表（分页） |
| `/admin/article/toEditPage` | GET | 跳转文章编辑页 |
| `/admin/article/publish` | POST | 发布文章 |
| `/admin/article/{id}` | GET | 编辑指定文章 |
| `/admin/article/modify` | POST | 修改文章 |
| `/admin/article/delete` | POST | 删除文章 |

### 5.2 用户端接口
| 接口路径 | 请求方式 | 功能描述 |
|---------|---------|---------|
| `/` | GET | 首页文章列表 |
| `/comments/publish` | POST | 发表评论 |
| `/comments/getByid` | POST | 分页查询评论 |
| `/comments/delete` | POST | 删除评论 |

---

## 六、安全特性

1. **Spring Security 集成**
   - 基于角色的访问控制
   - 表单登录认证
   - 记住我功能

2. **XSS 防护**
   - 评论内容 XSS 脚本清理
   - HTML 标签过滤

3. **Emoji 处理**
   - Emoji 表情转换为别名存储
   - 防止数据库编码问题

4. **SQL 注入防护**
   - MyBatis 预编译语句
   - 参数化查询

---

## 七、环境配置

### 7.1 开发环境要求
- **JDK：** Java 17+
- **构建工具：** Maven 3.6+
- **数据库：** MySQL 8.0+
- **缓存：** Redis 6.0+

### 7.2 数据库配置
```yaml
spring:
  datasource:
    url: jdbc:mysql://localhost:3306/bolg_system
    username: root
    password: 123456
    driver-class-name: com.mysql.cj.jdbc.Driver
```

### 7.3 Redis 配置
```properties
spring.redis.host=127.0.0.1
spring.redis.port=6379
spring.redis.password=
```

### 7.4 邮件服务配置
```yaml
spring:
  mail:
    host: smtp.qq.com
    port: 587
    username: 3606195422@qq.com
    password: uoqwuuyvjdaycjcj
```

---

## 八、项目启动

### 8.1 环境准备
1. 安装并启动 MySQL 8.0
2. 安装并启动 Redis
3. 创建数据库 `bolg_system`
4. 导入数据库脚本（如有）

### 8.2 启动步骤
```bash
# 1. 克隆项目
git clone https://gitee.com/wenji70/blog.git

# 2. 进入项目目录
cd blogTeam

# 3. 修改配置文件
# 编辑 src/main/resources/application.yml
# 配置数据库连接信息

# 4. 使用 Maven 构建
mvn clean install

# 5. 运行项目
mvn spring-boot:run

# 或直接运行主类
java -jar target/bolg_system-0.0.1-SNAPSHOT.jar
```

### 8.3 访问地址
- **前台首页：** http://localhost:8080/
- **后台管理：** http://localhost:8080/admin
- **API 文档：** http://localhost:8080/doc.html (Knife4j)

---

## 九、待完善功能

根据代码注释，以下功能尚在规划中：
- [ ] 完善评论管理后台界面
- [ ] 文章分类/标签管理功能
- [ ] 系统设置功能
- [ ] 文章评论开关控制
- [ ] 评论回复功能

---

## 十、项目亮点

1. **完整的安全防护机制**：集成 Spring Security，支持用户认证与授权
2. **Redis 缓存优化**：提高数据访问性能
3. **Markdown 编辑支持**：支持 GFM 表格等扩展语法
4. **Emoji 表情支持**：评论系统支持 Emoji 表情
5. **分页查询优化**：使用 PageHelper 实现高效分页
6. **API 文档自动化**：集成 Knife4j，自动生成接口文档
7. **邮件服务集成**：支持邮件通知功能

---

## 十一、开发团队

- **组织：** wenji70
- **仓库地址：** https://gitee.com/wenji70/blog.git

---

## 十二、许可证

待补充

---

## 十三、联系方式

如有问题或建议，请通过以下方式联系：
- **邮箱：** 3606195422@qq.com
- **Gitee：** https://gitee.com/wenji70/blog

---

**最后更新时间：** 2024年
